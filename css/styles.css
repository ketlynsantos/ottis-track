
/* OTIS-TRACK — UI v3 (fixed layout, sharp alignment, non-responsive)
   - 1200px canvas, 820px content + 360px sidebar
   - Uniform KPI cards (4 cols x 190px)
   - Pill navigation centered, consistent heights
   - Tight baseline spacing (8px scale)
*/

:root{
  --primary:#1B4B91;
  --primary-700:#153A70;
  --bg:#F4F7FB;
  --surface:#FFFFFF;
  --text:#0F172A;
  --muted:#5C6B7A;
  --border:#E3EAF2;
  --accent:#10B981;
  --info:#3B82F6;
  --warn:#F59E0B;
  --danger:#EF4444;
  --shadow:0 1px 2px rgba(2,6,23,.05), 0 12px 28px -14px rgba(2,6,23,.14);
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
a{color:var(--primary);text-decoration:none}
a:focus,button:focus,input:focus,select:focus,textarea:focus{outline:3px solid #E7F0FF;outline-offset:2px}

/* HEADER (fixed width & centered) */
header{position:sticky;top:0;z-index:10;background:var(--surface);border-bottom:1px solid var(--border)}
.nav{width:1200px;margin:0 auto;display:grid;grid-template-columns:200px 1fr 260px;align-items:center;gap:16px;padding:10px 0}
.brand{display:flex;align-items:center;gap:8px;font-weight:800;letter-spacing:.2px;padding-left:8px}
.brand .elev{width:14px;height:20px;border:2px solid var(--primary);border-radius:3px;position:relative}
.brand .elev:after{content:'';position:absolute;left:3px;top:3px;width:6px;height:6px;border:2px solid var(--primary);border-radius:2px}
.pillnav{display:flex;justify-content:center;gap:12px}
.pillnav a{display:inline-flex;align-items:center;justify-content:center;min-width:140px;height:40px;background:#fff;border:1px solid var(--border);border-radius:999px;padding:0 18px;font-weight:700;color:#0B1220;box-shadow:0 1px 1px rgba(0,0,0,.03)}
.pillnav a:hover{box-shadow:var(--shadow);transform:translateY(-1px)}
.search{display:flex;justify-content:flex-end;padding-right:8px}
.search input{height:40px;width:240px;padding:0 12px;border:1px solid var(--border);border-radius:12px;background:#fff}

/* CANVAS */
.container{width:1200px;margin:0 auto;padding:16px 0}

/* TYPOGRAPHY & TOKENS */
h1{font-size:28px;line-height:36px;margin:8px 0 12px 0}
.section-title{font-size:16px;font-weight:800;margin:4px 0 8px 0}
.small{font-size:12px;color:var(--muted)}

/* BADGES */
.badge{display:inline-flex;align-items:center;gap:8px;height:28px;padding:0 10px;border-radius:999px;border:1px solid var(--border);background:#F7FAFF;color:var(--primary);font-weight:700}

/* GRID (two columns fixed) */
.two-col{display:grid;grid-template-columns:820px 360px;gap:24px}

/* CARDS */
.card{background:var(--surface);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:16px}

/* KPI STRIP (4 x 190px) */
.kpi-strip{display:flex;gap:16px}
.kpi{width:190px;height:110px;background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:12px 14px}
.kpi h3{margin:0 0 6px 0;font-size:12px;color:var(--muted);font-weight:700}
.kpi .value{font-size:28px;font-weight:800}

/* FILTER PILLS */
.filters{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0 8px}
.pill{display:flex;align-items:center;gap:8px;height:40px;padding:0 12px;border:1px solid var(--border);border-radius:999px;background:#fff}
.pill select{border:none;background:transparent;font-size:14px}

/* TABS (single line, precise alignment) */
.tabs{display:flex;gap:8px;border-bottom:1px dashed var(--border);margin:12px 0 12px 0}
.tab{min-width:120px;height:36px;display:flex;align-items:center;justify-content:center;border:1px solid var(--border);border-bottom:none;border-top-left-radius:12px;border-top-right-radius:12px;background:#fff;font-weight:700}
.tab.active{background:#F0F6FF;border-color:#CFE1FF;color:var(--primary)}

/* TIMELINE (precise rail) */
.timeline{position:relative;padding-left:20px}
.timeline:before{content:'';position:absolute;left:8px;top:0;bottom:0;width:2px;background:var(--border)}
.timeline .item{position:relative;margin:10px 0;padding-left:8px}
.timeline .item:before{content:'';position:absolute;left:-2px;top:6px;width:12px;height:12px;border-radius:50%;border:2px solid var(--border);background:#fff}
.timeline .item.done:before{border-color:var(--accent)}
.timeline .item.risk:before{border-color:var(--warn)}
.timeline .item.delay:before{border-color:var(--danger)}

/* TABLE (rounded rows, fixed rhythm) */
.table{width:1200px;border-collapse:separate;border-spacing:0 10px}
.table thead th{font-size:12px;color:var(--muted);text-align:left;padding:0 10px}
.table tbody tr{background:#fff;border:1px solid var(--border);border-radius:12px;transition:transform .08s ease}
.table tbody tr:hover{transform:translateY(-1px)}
.table tbody td{padding:12px 10px;border-top:1px solid var(--border)}

/* COST BAR */
.statbar{height:8px;background:#E8EEF9;border-radius:999px;overflow:hidden}
.statbar .fill{height:8px;background:var(--primary)}

/* BUTTONS */
.btn{border:1px solid var(--border);background:#fff;border-radius:12px;padding:10px 14px;cursor:pointer;font-weight:700}
.btn.primary{background:var(--primary);color:white;border-color:var(--primary)}
.btn.block{display:block;width:100%}

/* DIALOG */
dialog{border:none;border-radius:16px;box-shadow:var(--shadow);padding:0;max-width:720px;width:720px;background:#fff}
dialog .modal-header{padding:16px 16px 0 16px}
dialog .modal-body{padding:0 16px 16px 16px}
dialog form{padding:0 16px 16px 16px}
dialog .actions{display:flex;gap:10px;justify-content:flex-end;padding:12px 16px;border-top:1px dashed var(--border);background:#FAFBFF;border-bottom-left-radius:16px;border-bottom-right-radius:16px}

/* TOAST & FOOTER */
.toast{position:fixed;bottom:24px;right:24px;background:#0f172a;color:white;padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);display:none}
.toast.show{display:block}
.footer{padding:24px;color:var(--muted);font-size:12px;text-align:center}


/* --- Dashboard fixes (v3.1) --- */
.kpi-strip{display:flex;gap:16px}
.kpi-strip .kpi{width:240px;height:110px}
.card.table-wrap{padding:0;overflow:hidden}
.table{width:100%}
.table thead th{height:40px;vertical-align:middle}
.table tbody td{height:52px;vertical-align:middle}
.filters .pill{height:36px}


/* --- Dashboard spacing tweak (v3.2) --- */
.kpi-strip{margin:8px 0 10px 0;}           /* reduce gap below big numbers */
.kpi-strip .kpi{margin:0;}                 /* ensure cards don't add extra margin */
.card.table-wrap{margin-top:0;}            /* table hugs the KPI row */
.kpi-strip + .table-wrap{margin-top:8px;}  /* explicit small gap between KPI row and table */


/* --- v3.3 polish --- */
.container{padding-top:12px;padding-bottom:24px}
.filters{margin:8px 0 10px 0}
.kpi-strip{margin:4px 0 8px 0}
.card.table-wrap{margin-top:6px;border-radius:20px}
.table tbody tr{background:#fff}
.table tbody tr:nth-child(odd){background:linear-gradient(#fff,#fff)}
.table tbody tr:hover{background:#FCFEFF;transform:none;box-shadow:0 1px 0 rgba(0,0,0,.02)}
.table tbody td.num{text-align:right}
/* Chips */
.chip{display:inline-flex;align-items:center;height:28px;padding:0 10px;border-radius:999px;font-size:13px;font-weight:700;border:1px solid var(--border);background:#fff;color:#334155}
.chip.on{color:#1D4ED8;background:rgba(59,130,246,.08);border-color:#CFE1FF}
.chip.risk{color:#B45309;background:rgba(245,158,11,.10);border-color:#FDE68A}
.chip.delay{color:#B91C1C;background:rgba(239,68,68,.10);border-color:#FECACA}
.chip.early{color:#047857;background:rgba(16,185,129,.10);border-color:#A7F3D0}


/* --- Portal page layout (v3.4) --- */
body.portal .container{padding-top:16px;padding-bottom:24px}
.portal-grid{grid-template-columns:1fr;max-width:760px;margin:16px auto 24px;gap:16px}
body.portal .card{padding:24px;border-radius:18px}
.portal-grid h2{margin:0 0 8px 0;font-size:24px}
.portal-grid .small{margin-top:4px}
/* Stepper spacing */
#steps.stepper{gap:12px}
/* Form stack */
body.portal form .field{margin-bottom:16px}
body.portal form label{display:block;margin-bottom:6px}
body.portal form select, body.portal form textarea, body.portal form input{display:block;width:100%;max-width:420px}
body.portal form button{margin-top:4px}


/* --- Timeline alignment fix (v3.5) --- */
.timeline{padding-left:24px}
.timeline:before{left:10px}
.timeline .item{padding-left:22px; line-height:1.35}
.timeline .item:before{left:0}  /* place bullet inside the item's own left padding */


/* --- Sidebar spacing fix (v3.6) --- */
.two-col aside{
  display:grid;
  gap:14px;          /* espaço entre "Filtros rápidos" e "Portal do Cliente" */
  align-content:start;
}
.two-col aside > .card{margin:0}           /* garante que o gap controle o espaçamento */
.two-col aside > .card + .card{margin-top:0}  /* redundância defensiva */


/* --- Tabs → Panel spacing fix (v3.7) --- */
.tabs{ margin-bottom:4px; border-bottom:1px dashed var(--border); }
.tab{ margin-bottom:-1px; }                 /* encosta nas abas */
.tabpanel{ margin-top:0; }
.tabs + .tabpanel{ margin-top:2px; }        /* aproxima o card */
.tabs + .tabpanel .card{ margin-top:0; }    /* remove qualquer resíduo */


/* --- Tabs + Panel fused (v3.8) --- */
.tabs{ margin-bottom:0; border-bottom:0; }
.tab{ margin-bottom:0; border-bottom:1px solid var(--border); }
.tab.active{ background:#F0F6FF; border-color:#CFE1FF; border-bottom-color:transparent; }
.tabs + .tabpanel{ margin-top:0; }
.tabs + .tabpanel .card{
  margin-top:0;
  border-top-left-radius:0;
  border-top-right-radius:0;
  border-top:0; /* cola nas abas */
}


/* --- Fused tabs across ALL panels (v3.9) --- */
.tabs ~ .tabpanel{ margin-top:0; }
.tabs ~ .tabpanel .card:first-child{
  margin-top:0;
  border-top-left-radius:0;
  border-top-right-radius:0;
  border-top:0;
}


/* --- Home (hero) --- */
.home-hero{width:1200px;margin:0 auto;padding:40px 0}
.hero-card{
  background:var(--surface);
  border:1px solid var(--border);
  border-radius:20px;
  box-shadow:var(--shadow);
  padding:40px 48px;
  display:grid;
  gap:14px;
}
.hero-title{font-size:36px;line-height:44px;font-weight:900;margin:0}
.hero-sub{font-size:16px;color:var(--muted);margin:0}
.vprops{display:grid;gap:8px;margin-top:6px}
.vprops .item{display:flex;gap:10px;align-items:flex-start}
.vprops .dot{width:8px;height:8px;border-radius:50%;background:var(--primary);margin-top:8px}
.hero-cta{display:flex;gap:10px;margin-top:12px}
.hero-cta .btn.primary{height:44px}
.hero-note{font-size:12px;color:var(--muted);margin-top:6px}

/* --- Feedback Dashboard (Portal) v4.0 --- */
.fb-toolbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:8px 0 10px 0}
.fb-toolbar .pill{height:40px}
.fb-grid{display:grid;grid-template-columns:1.4fr .6fr;gap:16px}
.fb-kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
.fb-kpi{background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:14px}
.fb-kpi h4{margin:0 0 6px 0;font-size:12px;color:var(--muted);font-weight:700}
.fb-kpi .val{font-size:28px;font-weight:800}
.bar-card{background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:16px}
.bar-chart{display:grid;grid-template-columns:repeat(11,1fr);gap:6px;align-items:end;height:120px;margin-top:8px}
.bar{background:#E5ECFA;border:1px solid #D6E4FF;border-radius:8px;min-height:4px}
.bar[data-t="det"]{background:rgba(239,68,68,.18);border-color:#FECACA}
.bar[data-t="neu"]{background:#E5ECFA;border-color:#D6E4FF}
.bar[data-t="pro"]{background:rgba(16,185,129,.18);border-color:#A7F3D0}
.bar-x{display:flex;justify-content:space-between;font-size:11px;color:var(--muted);margin-top:6px}
.tag{display:inline-flex;align-items:center;height:22px;padding:0 8px;border-radius:999px;font-size:12px;font-weight:700;border:1px solid var(--border);background:#fff;color:#334155}
.tag.pro{color:#047857;background:rgba(16,185,129,.10);border-color:#A7F3D0}
.tag.det{color:#B91C1C;background:rgba(239,68,68,.10);border-color:#FECACA}
.tag.neu{color:#1D4ED8;background:rgba(59,130,246,.08);border-color:#CFE1FF}
.comments{display:grid;gap:10px}
.comment{background:#fff;border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow);padding:12px}
.comment .meta{display:flex;gap:10px;align-items:center;font-size:12px;color:var(--muted);margin-bottom:6px}
.comment .body{font-size:14px}
.right-col{display:grid;gap:16px}
@media (max-width:9999px){ /* keep fixed layout overall */ }
